{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Validator } from 'vee-validate';\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      phone: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    async userLogin() {\n      const success = this.$validator.validateAll();\n\n      if (success) {\n        try {\n          const {\n            phone,\n            password\n          } = this;\n          await this.$store.dispatch('userLogin', {\n            phone,\n            password\n          }); // 登录之前，判断路由中是否有query参数，即准备去的页面的路由，决定登录后跳转的页面\n\n          let toPath = this.$route.query.redirect || '/home';\n          this.$router.push(toPath);\n          alert('登录成功');\n        } catch (error) {\n          alert('请检查账号密码是否正确');\n        }\n      }\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}