{"ast":null,"code":"import { reqGetSearchInfo } from \"@/api\"; // Search模块的仓库\n\nconst state = {\n  // 仓库初始状态\n  searchList: {}\n};\nconst mutations = {\n  GETSEARCHLIST(state, searchList) {\n    state.searchList = searchList;\n  }\n\n};\nconst actions = {\n  // 获取Search模块数据\n  // async getSearchList(context) {\n  async getSearchList({\n    commit\n  }, params = {}) {\n    //{commit}是对context的解构赋值\n    let result = await reqGetSearchInfo(params);\n\n    if (result.code == 200) {\n      commit('GETSEARCHLIST', result.data);\n    }\n  }\n\n}; // 为简化数据而生,方便组件获取数据\n\nconst getters = {\n  goodsList(state) {\n    // 这样写有问题，\n    // searchList可能是个空对象，不包含goodsList，返回值是undefined\n    // 解决方法：空对象时，至少返回一个空数组\n    return state.searchList.goodsList || [];\n  },\n\n  attrsList(state) {\n    return state.searchList.attrsList || [];\n  },\n\n  trademarkList(state) {\n    return state.searchList.trademarkList || [];\n  }\n\n};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters\n};","map":null,"metadata":{},"sourceType":"module"}